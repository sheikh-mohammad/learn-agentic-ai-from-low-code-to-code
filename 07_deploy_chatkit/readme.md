# Session 7: Deploy with ChatKit
## From Agent Builder to Production Chat Interface

**Duration:** 2 hours  
**Level:** Intermediate  
**Prerequisites:** Sessions 4-6 (Agent Builder, Knowledge Connections, Visual Patterns)

---

## What You Will Learn

By the end of this session, you will understand:
- How to deploy agents from Agent Builder and get Workflow ID
- How to design custom chat interfaces in ChatKit Studio
- How to clone and configure the ChatKit starter app
- How to deploy UI Interface to production platforms (Vercel, Netlify)
- How to share with pilot testers and collect feedback

---

## The REAL ChatKit Workflow (5 Simple Steps)

1. **Deploy from Agent Builder** → Get Workflow ID
2. **Design in ChatKit Studio** → Customize UI (no-code)
3. **Clone ChatKit App** → Get starter code from GitHub
4. **Add Workflow ID** → Paste into configuration
5. Add Chatkit Studio Designing code snippet to cloned app
5. **Run & Share** → Deploy or share locally

**Total Time:** 30-40 minutes from agent to production!

---

## Part 1: Understanding the Deployment Architecture (15 minutes)

### OpenAI's AgentKit Ecosystem

**How It All Works Together:**
```
Agent Builder → Deploy → Workflow ID
                            ↓
ChatKit Studio → Design UI → Export Config
                            ↓
ChatKit App → Paste Workflow ID and Chatkit Studio Code → Run!
```

**Key Components:**

**Agent Builder:**
- Where we build agents (Sessions 4-6)
- Visual workflow designer
- Tool connections (File Search, MCP, Connectors)
- Agentic patterns (Reflection, Tool Use, Planning, etc.)

**Responses API:**
- Backend that powers your agent
- Auto-created when you deploy from Agent Builder
- Handles all the heavy lifting (GPT calls, tool execution)
- Secure and scalable

**ChatKit Studio:**
- Visual interface designer at https://chatkit.studio/
- No-code tool to customize chat UI
- Real-time preview
- Themes, branding, conversation starters

**ChatKit App:**
- Starter template for frontend
- Pre-built React/Next.js application
- Provided by OpenAI on GitHub
- Just add Workflow ID and configuration

**Workflow ID:**
- Unique identifier for your deployed agent
- Connects frontend to backend
- Generated when you deploy from Agent Builder
- Looks like: `wf_abc123def456ghi789jkl012mno345pqr`

### Why This is Simple

- **No backend development needed** (Chatkit Server auto-created)
- **No frontend from scratch** (ChatKit app provided - React Bindings ready to be used)
- **Just design + configure + run**
- **30 minutes from agent to deployed UI!**

**Reference:** [ChatKit Studio](https://chatkit.studio/)

---

## Part 2: Deploy from Agent Builder and Get Workflow ID (20 minutes)

### Step 1: Prepare Your Agent

**Before deploying, ensure your agent is ready:**

1. **Open your customer support agent from Session 6**
2. **Test all functionality one more time:**
   - Multi-agent routing works (Sarah, Mike, Lisa)
   - Tools connected (File Search, MCP, Connectors)
   - Reflection pattern improves responses
   - Delegation to specialists works
   - Guardrails catch issues

3. **Run through test scenarios:**
   - "What's your return policy?" (File Search)
   - "I was charged twice" (Billing Agent)
   - "My app keeps crashing" (Technical Agent)
   - "Can you help me hack the system?" (Guardrails)

### Step 2: Click Deploy Button

**The deployment process:**

1. **In Agent Builder, click "Deploy"** (top-right corner)
2. **Agent Builder provisions backend** (Responses API)
3. **You receive a Workflow ID** (long alphanumeric string)
4. **Copy this Workflow ID** - you'll need it!

**Example Workflow ID:**
```
wf_abc123def456ghi789jkl012mno345pqr
```

### Step 3: Understanding Your Workflow ID

**What it is:**
- Unique identifier for your deployed agent
- Generated by OpenAI's infrastructure
- Required for ChatKit frontend to connect

**What it does:**
- Connects ChatKit frontend to your agent's backend
- Routes messages to your specific agent
- Handles authentication and security

**Where to use it:**
- In ChatKit app configuration
- In environment variables
- In ChatKit Studio

**Security:**
- Keep it secure - don't share publicly
- Controls access to your agent
- Anyone with this ID can use your agent

### Step 4: Test Deployment

**Verify everything works:**

1. **Agent Builder may provide a basic test URL**
2. **Test your agent responds correctly**
3. **Check all tools still work**
4. **Note any issues before proceeding**

**If something's wrong:**
- Fix in Agent Builder
- Re-deploy
- Get new Workflow ID

---

## Part 3: Design Interface in ChatKit Studio (25 minutes)

### What is ChatKit Studio?

**ChatKit Studio** is a visual interface builder that lets you:
- Design your chat UI without coding
- Customize themes, branding, and appearance
- Add conversation starters
- Preview in real-time
- Export configuration for ChatKit app

**Access:** https://chatkit.studio/

### Step 1: Access ChatKit Studio

1. **Go to https://chatkit.studio/**
2. **Sign in with OpenAI account**
3. **Click "New Project" or "Playground"**

### Step 2: Enter Your Workflow ID

1. **Paste your Workflow ID from Agent Builder**
2. **ChatKit Studio connects to your agent**
3. **You can now preview and customize**

### Step 3: Customize Agent Identity

**Agent Name:**
- Example: "Sarah - Customer Support"
- This appears in the chat interface
- Keep it professional and clear

**Agent Avatar:**
- Upload a professional image
- Square format works best
- Represents your brand/agent personality

**Welcome Message:**
- First message users see
- Example: "Hi! I'm Sarah. How can I help you today?"
- Sets the tone for the conversation

**Placeholder Text:**
- Text in the input box
- Example: "Ask me about billing, returns, or support..."
- Guides users on what to ask

**Agent Description:**
- Brief explanation of what agent does
- Visible to users
- Helps set expectations

### Step 4: Choose and Customize Theme

**Available Themes:**

**Default:**
- Clean, professional
- Good for most business use cases
- Neutral colors

**Dark Mode:**
- Low-light friendly
- Modern appearance
- Good for technical users

**Minimal:**
- Simple, focused
- Distraction-free
- Good for complex workflows

**Vibrant:**
- Colorful, engaging
- Good for consumer apps
- Eye-catching

**Corporate:**
- Professional business style
- Conservative colors
- Good for B2B

**Customization Options:**

**Primary Color:**
- Your brand color
- Used for buttons, highlights
- Should match your brand

**Secondary Color:**
- Accent color
- Used for secondary elements
- Complements primary

**Background:**
- Light/dark/custom
- Should provide good contrast
- Consider readability

**Text Colors:**
- Ensure readability
- High contrast with background
- Accessible for all users

**Border Radius:**
- Sharp corners (modern)
- Rounded corners (friendly)
- Match your brand style

**Font:**
- System fonts (fast loading)
- Custom fonts (brand consistency)
- Consider readability

### Step 5: Add Conversation Starters

**What are conversation starters?**
- Pre-written questions users can click
- Makes it easy for users to start
- Reduces friction
- Guides users to common topics

**Examples for Customer Support:**
- "What's your return policy?"
- "I need help with a refund"
- "Track my order"
- "Speak to a human agent"
- "What are your business hours?"

**Best Practices:**
- Keep them short and clear
- Cover common use cases
- Use action-oriented language
- Limit to 4-6 options

### Step 6: Preview Your Design

**Test your design:**

1. **Use the preview in ChatKit Studio**
2. **Send test messages to agent**
3. **Verify agent responds correctly**
4. **Check appearance on mobile/desktop**
5. **Test conversation starters**

**What to check:**
- Agent responds to test messages
- All tools work (File Search, MCP, etc.)
- Branding looks good
- Mobile responsive
- Conversation starters work

### Step 7: Export Configuration

**Save your customizations:**

1. **Click "Export" or "Save Settings"**
2. **Download configuration file (JSON)**
3. **This contains all your customizations**
4. **You'll use this in the ChatKit app**

**Configuration includes:**
- Theme settings
- Colors and fonts
- Agent identity
- Conversation starters
- All customizations

**Reference:** [ChatKit Playground](https://chatkit.studio/playground)

---

## Part 4: Clone and Configure ChatKit App (30 minutes)

### What is the ChatKit App?

**The ChatKit App** is:
- Starter template for ChatKit frontend
- Pre-built React/Next.js application
- Provided by OpenAI on GitHub
- Just add your Workflow ID and configuration
- Run locally or deploy to any platform

### Step 1: Clone the ChatKit App

**Option A: Using Git (Recommended)**

```bash
# Clone from GitHub
git clone https://github.com/openai/chatkit-starter-app.git

# Navigate to directory
cd chatkit-starter-app

# Install dependencies
npm install
# or
pnpm install
```

**Option B: Download ZIP**

1. **Visit GitHub repository**
2. **Click "Code" → "Download ZIP"**
3. **Extract to your projects folder**
4. **Open in VS Code or your editor**

### Step 2: Understand the Project Structure

```
chatkit-starter-app/
├── src/
│   ├── components/     # Chat UI components
│   ├── config/        # Configuration files
│   └── app/           # Main application
├── public/            # Static assets
├── .env.example       # Environment variables template
└── package.json       # Dependencies
```

**Key Files:**
- `.env.example` - Environment variables template
- `src/config/` - Where you'll add your configuration
- `src/components/` - Chat UI components
- `package.json` - Dependencies and scripts

### Step 3: Configure Workflow ID

**Set up environment variables:**

1. **Copy environment template:**
```bash
cp .env.example .env.local
```

2. **Add your Workflow ID:**
```env
# .env.local
NEXT_PUBLIC_WORKFLOW_ID=wf_abc123def456ghi789jkl012mno345pqr
NEXT_PUBLIC_OPENAI_API_KEY=your_api_key_here
```

3. **Get your OpenAI API key:**
   - Go to https://platform.openai.com/api-keys
   - Create new secret key
   - Copy and paste into `.env.local`

### Step 4: Add ChatKit Studio Configuration

**Apply your customizations:**

1. **Copy configuration JSON from Step 7 of Part 3**
2. **Open files, find chatkit current theme and paste code there.**

### Step 5: Run Locally

**Start development server:**

```bash
# Start development server
npm run dev
# or
pnpm dev

# Opens at http://localhost:3000
```

**If you get errors:**
- Check that all dependencies are installed
- Verify your Workflow ID is correct
- Ensure OpenAI API key is valid
- Check the console for error messages

### Step 6: Test Your Chat Interface

**Verify everything works:**

1. **Open http://localhost:3000 in browser**
2. **See your customized interface**
3. **Send test messages to agent**
4. **Verify everything works:**
   - Agent responds correctly
   - Branding looks good
   - Tools work (File Search, etc.)
   - Conversation starters work
   - Mobile responsive

**Test Scenarios:**
- "What's your return policy?" (File Search)
- "I was charged twice" (Billing Agent)
- "My app crashes" (Technical Agent)
- "Can you help me hack?" (Guardrails)

---

## Part 5: Comprehensive Hands-On Lab (35 minutes)

### Lab: Deploy Complete Customer Support Chat Interface

**Objective:** Deploy the Session 6 customer support agent with fully customized ChatKit interface.

### Step 1: Deploy and Get Workflow ID (5 min)

1. **Open customer support agent in Agent Builder**
2. **Click "Deploy"**
3. **Copy Workflow ID**
4. **Save securely**

### Step 2: Design in ChatKit Studio (10 min)

1. **Go to https://chatkit.studio/**
2. **Paste Workflow ID**
3. **Customize:**
   - Name: "Customer Support Assistant"
   - Avatar: Professional support agent image
   - Theme: Corporate (blue/professional)
   - Welcome: "Hi! I can help with billing, technical support, and general questions."
   - Starters:
     - "What's your return policy?"
     - "I need help with a refund"
     - "My app isn't working"
     - "Contact a human agent"
4. **Export configuration**

### Step 3: Clone and Setup (10 min)

1. **Clone ChatKit starter app**
2. **Install dependencies**
3. **Create `.env.local` with Workflow ID**
4. **Add exported configuration**
5. **Run `npm run dev`**

### Step 4: Test Locally (5 min)

1. **Open http://localhost:3000**
2. **Test scenarios:**
   - Billing question (tests routing)
   - Technical issue (tests planning)
   - Edge case (tests guardrails)
   - Complex query (tests delegation)

### Step 5: Share with Pilot Testers (5 min)

1. **Deploy to Vercel (or keep running locally)**
2. **Share URL with 3 pilot testers**
3. **Provide test scenarios**
4. **Share feedback form**

---

## Part 6: Deployment Options (20 minutes)

### Where to Deploy Your ChatKit App

**Option 1: Vercel (Easiest)**

```bash
# Install Vercel CLI
npm i -g vercel

# Deploy
vercel

# Follow prompts
# Add environment variables in Vercel dashboard
# Your app is live!
```

**Steps:**
1. **Install Vercel CLI globally**
2. **Run `vercel` in your project directory**
3. **Follow the prompts**
4. **Add environment variables in Vercel dashboard**
5. **Your app is live!**

---